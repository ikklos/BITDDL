<!doctype html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="StyleSets/indexpage.css">
    <link rel="stylesheet" type="text/css" href="StyleSets/universial.css">
    <link rel="stylesheet" type="text/css" href="StyleSets/swal2_diy.css">
    <script src="Lib/rc.2_pixi.js"></script>
    <script src="Lib/sweetalert2.all.js"></script>
    <link rel="icon" href="image_temp/Test_ico.ico">
</head>
<script>
    window.currentSave = {};
    window.saveChanged = false;
    window.userName = null;
    window.currentBGM = 0;
    window.myfun = {};
    //游戏元素切换
    function showMainMenu() {
        Array.from(document.getElementsByClassName("visible_mainmenu")).forEach(function (element) {
            element.style.visibility = 'visible'
        })
        Array.from(document.getElementsByClassName("visible_gameframe")).forEach(function (element) {
            element.style.visibility = 'hidden'
        })
        Array.from(document.getElementsByClassName("visible_saveframe")).forEach(function (element) {
            element.style.visibility = 'hidden'
        })
        Array.from(document.getElementsByClassName("visible_about")).forEach(function (element) {
            element.style.visibility = 'hidden'
        })
        window.currentBGM = 0;
    }
    function showGameFrame() {
        Array.from(document.getElementsByClassName("visible_mainmenu")).forEach(function (element) {
            element.style.visibility = 'hidden'
        })
        Array.from(document.getElementsByClassName("visible_gameframe")).forEach(function (element) {
            element.style.visibility = 'visible'
        })
        Array.from(document.getElementsByClassName("visible_saveframe")).forEach(function (element) {
            element.style.visibility = 'hidden'
        })
        Array.from(document.getElementsByClassName("visible_about")).forEach(function (element) {
            element.style.visibility = 'hidden'
        })
        document.body.focus();
        document.getElementById("maingameframe").focus();
        document.getElementById("maingameframe").contentWindow.focusMainGame();
        window.currentBGM = 1;
    }
    function showSaveFrame() {
        Array.from(document.getElementsByClassName("visible_mainmenu")).forEach(function (element) {
            element.style.visibility = 'hidden'
        })
        Array.from(document.getElementsByClassName("visible_gameframe")).forEach(function (element) {
            element.style.visibility = 'hidden'
        })
        Array.from(document.getElementsByClassName("visible_saveframe")).forEach(function (element) {
            element.style.visibility = 'visible'
        })
        Array.from(document.getElementsByClassName("visible_about")).forEach(function (element) {
            element.style.visibility = 'hidden'
        })
        window.currentBGM = 1;
    }
    function showAbout() {
        Array.from(document.getElementsByClassName("visible_mainmenu")).forEach(function (element) {
            element.style.visibility = 'hidden'
        })
        Array.from(document.getElementsByClassName("visible_gameframe")).forEach(function (element) {
            element.style.visibility = 'hidden'
        })
        Array.from(document.getElementsByClassName("visible_saveframe")).forEach(function (element) {
            element.style.visibility = 'hidden'
        })
        Array.from(document.getElementsByClassName("visible_about")).forEach(function (element) {
            element.style.visibility = 'visible'
        })
        window.currentBGM = 0;
    }
</script>
<script src="behavejs/indexpage.js" type="module"></script>

<body>

    <div class="tab">
        <a class="tab_button_l visible_topmenu_unlog" href="#" id="logbutton">登录</a>
        <a class="tab_button_l visible_topmenu_unlog" href="#" id="regbutton">注册</a>
        <p class="logged visible_topmenu_logged" id="logged" style="visibility: hidden;"></p>
        <p class="visible_gameframe center_guide">
            按WASD/↑←↓→键控制人物移动 按F键交互 按P键打开背包 请输入小写字母
        </p>
        <a class="tab_button_r" href="#" id="tab_about">关于</a>
        <a class="tab_button_r" href="#" id="tab_loadsave">存档</a>
        <a class="tab_button_r" href="#" id="tab_game">游戏</a>
        <a class="tab_button_r" href="#" id="tab_home">主页</a>
    </div>
    <!-- 音量控件 未实现-->
    <div class="audio visible_mainmenu">
        <div>这里准备放BGM控件</div>
        <button type="button">上一首</button>
        <button type="button">暂停</button>
        <button type="button">下一首</button>
    </div>

    <div class="title border_s mainmenu visible_mainmenu " id="gametitle">
        <h1>
            BITDDL
        </h1>
    </div>
    <div class="centre button_box">
        <a class="mainmenu button_s visible_mainmenu" href="#" id="startgamebutton">开始游戏</a>
        <a class="mainmenu button_s visible_mainmenu" href="#" id="loadsavebutton">读取存档</a>
        <a class="mainmenu button_s visible_mainmenu" href="#" id="aboutbutton">关于我们</a>
    </div>
    <iframe src="GameFrame.html" class="game centre visible_gameframe" scrolling="no" frameborder="0"
        id="maingameframe"></iframe>
    <iframe src="SaveFrame.html" id="savelistframe" scrolling="no"
        class="centre save_list_frame border_s visible_saveframe"></iframe>
    <iframe src="about.html" class="visible_about" id="aboutpage"></iframe>
</body>

</html>